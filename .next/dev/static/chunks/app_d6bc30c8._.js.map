{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/project/app/components/TripForm.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { z } from 'zod';\nimport { MapPin, Calendar, DollarSign, Users, Hotel, Utensils } from 'lucide-react';\nimport type { TripFormData } from '../types/trip';\n\nconst tripSchema = z.object({\n  destination: z.string().min(2, 'Destination must be at least 2 characters'),\n  days: z.number().min(1, 'Trip must be at least 1 day').max(30, 'Trip cannot exceed 30 days'),\n  budget: z.number().min(1, 'Budget must be greater than 0'),\n  currency: z.string().min(3, 'Currency is required'),\n  travel_style: z.enum(['Solo', 'Family', 'Backpacker']),\n  starting_location: z.string().min(2, 'Starting location must be at least 2 characters'),\n});\n\ninterface TripFormProps {\n  onSubmit: (data: TripFormData) => void;\n  isLoading: boolean;\n}\n\nexport default function TripForm({ onSubmit, isLoading }: TripFormProps) {\n  const [formData, setFormData] = useState<TripFormData>({\n    destination: '',\n    days: 3,\n    budget: 1000,\n    currency: 'USD',\n    travel_style: 'Solo',\n    starting_location: '',\n    dietary_preference: 'no-preference',\n  });\n\n  const [errors, setErrors] = useState<Record<string, string>>({});\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n\n    try {\n      const validatedData = tripSchema.parse(formData);\n      setErrors({});\n      onSubmit(validatedData);\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        const newErrors: Record<string, string> = {};\n        // In Zod v4, validation errors are in the 'issues' property\n        if (error.issues && Array.isArray(error.issues)) {\n          error.issues.forEach((issue) => {\n            if (issue.path && issue.path.length > 0) {\n              newErrors[issue.path[0] as string] = issue.message;\n            }\n          });\n        }\n        setErrors(newErrors);\n      } else {\n        // Handle non-Zod errors\n        console.error('Form validation error:', error);\n      }\n    }\n  };\n\n  const handleChange = (field: keyof TripFormData, value: string | number) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n    if (errors[field]) {\n      setErrors(prev => ({ ...prev, [field]: '' }));\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-6 bg-white p-8 rounded-xl shadow-lg max-w-2xl w-full\">\n      <div className=\"text-center mb-8\">\n        <h1 className=\"text-4xl font-bold text-gray-800 mb-2\">Plan Your Perfect Trip</h1>\n        <p className=\"text-gray-600\">Create a realistic, optimized itinerary tailored to your style</p>\n      </div>\n\n      <div className=\"grid md:grid-cols-2 gap-6\">\n        <div className=\"md:col-span-2\">\n          <label className=\"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2\">\n            <MapPin className=\"w-4 h-4 text-blue-600\" />\n            Destination\n          </label>\n          <input\n            type=\"text\"\n            value={formData.destination}\n            onChange={(e) => handleChange('destination', e.target.value)}\n            placeholder=\"e.g., Paris, France or Tokyo\"\n            className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition ${errors.destination ? 'border-red-500' : 'border-gray-300'\n              }`}\n          />\n          {errors.destination && <p className=\"text-red-500 text-sm mt-1\">{errors.destination}</p>}\n        </div>\n\n        <div>\n          <label className=\"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2\">\n            <Calendar className=\"w-4 h-4 text-blue-600\" />\n            Number of Days\n          </label>\n          <input\n            type=\"number\"\n            value={formData.days}\n            onChange={(e) => handleChange('days', parseInt(e.target.value) || 1)}\n            min=\"1\"\n            max=\"30\"\n            className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition ${errors.days ? 'border-red-500' : 'border-gray-300'\n              }`}\n          />\n          {errors.days && <p className=\"text-red-500 text-sm mt-1\">{errors.days}</p>}\n        </div>\n\n        <div>\n          <label className=\"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2\">\n            <DollarSign className=\"w-4 h-4 text-blue-600\" />\n            Budget\n          </label>\n          <div className=\"flex gap-2\">\n            <select\n              value={formData.currency}\n              onChange={(e) => handleChange('currency', e.target.value)}\n              className=\"px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            >\n              <option value=\"USD\">USD</option>\n              <option value=\"INR\">INR</option>\n              <option value=\"EUR\">EUR</option>\n              <option value=\"GBP\">GBP</option>\n            </select>\n            <input\n              type=\"number\"\n              value={formData.budget}\n              onChange={(e) => handleChange('budget', parseFloat(e.target.value) || 0)}\n              min=\"1\"\n              className={`flex-1 px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition ${errors.budget ? 'border-red-500' : 'border-gray-300'\n                }`}\n            />\n          </div>\n          {errors.budget && <p className=\"text-red-500 text-sm mt-1\">{errors.budget}</p>}\n        </div>\n\n        <div>\n          <label className=\"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2\">\n            <Users className=\"w-4 h-4 text-blue-600\" />\n            Travel Style\n          </label>\n          <select\n            value={formData.travel_style}\n            onChange={(e) => handleChange('travel_style', e.target.value)}\n            className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          >\n            <option value=\"Solo\">Solo</option>\n            <option value=\"Family\">Family</option>\n            <option value=\"Backpacker\">Backpacker</option>\n          </select>\n        </div>\n\n        <div>\n          <label className=\"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2\">\n            <Utensils className=\"w-4 h-4 text-blue-600\" />\n            Dietary Preference\n          </label>\n          <select\n            value={formData.dietary_preference}\n            onChange={(e) => handleChange('dietary_preference', e.target.value)}\n            className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          >\n            <option value=\"no-preference\">No Preference</option>\n            <option value=\"vegetarian\">Vegetarian ü•¨</option>\n            <option value=\"non-vegetarian\">Non-Vegetarian üçñ</option>\n          </select>\n        </div>\n\n        <div>\n          <label className=\"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2\">\n            <Hotel className=\"w-4 h-4 text-blue-600\" />\n            Starting Location\n          </label>\n          <input\n            type=\"text\"\n            value={formData.starting_location}\n            onChange={(e) => handleChange('starting_location', e.target.value)}\n            placeholder=\"e.g., Marriott Downtown\"\n            className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition ${errors.starting_location ? 'border-red-500' : 'border-gray-300'\n              }`}\n          />\n          {errors.starting_location && <p className=\"text-red-500 text-sm mt-1\">{errors.starting_location}</p>}\n        </div>\n      </div>\n\n      <button\n        type=\"submit\"\n        disabled={isLoading}\n        className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-4 px-6 rounded-lg transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg\"\n      >\n        {isLoading ? 'Generating Itinerary...' : 'Generate Itinerary'}\n      </button>\n    </form>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 498, "column": 0}, "map": {"version":3,"sources":["file:///D:/project/app/utils/distance.ts"],"sourcesContent":["// Haversine formula to calculate distance between two coordinates\r\nexport function calculateDistance(\r\n    lat1: number,\r\n    lon1: number,\r\n    lat2: number,\r\n    lon2: number\r\n): number {\r\n    const R = 6371; // Radius of the Earth in kilometers\r\n    const dLat = toRadians(lat2 - lat1);\r\n    const dLon = toRadians(lon2 - lon1);\r\n\r\n    const a =\r\n        Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n        Math.cos(toRadians(lat1)) *\r\n        Math.cos(toRadians(lat2)) *\r\n        Math.sin(dLon / 2) *\r\n        Math.sin(dLon / 2);\r\n\r\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n    const distance = R * c; // Distance in kilometers\r\n\r\n    return Math.round(distance * 10) / 10; // Round to 1 decimal\r\n}\r\n\r\nfunction toRadians(degrees: number): number {\r\n    return degrees * (Math.PI / 180);\r\n}\r\n\r\n// Estimate travel time based on distance (in minutes)\r\nexport function estimateTravelTime(distanceKm: number, mode: 'walking' | 'driving' | 'public' = 'driving'): number {\r\n    const speeds = {\r\n        walking: 5, // km/h\r\n        driving: 40, // km/h in city\r\n        public: 25, // km/h public transport\r\n    };\r\n\r\n    const timeHours = distanceKm / speeds[mode];\r\n    return Math.round(timeHours * 60); // Convert to minutes\r\n}\r\n\r\n// Sort places by distance from a starting point\r\nexport function sortPlacesByDistance(\r\n    places: Array<{ name: string; lat?: number; lon?: number;[key: string]: any }>,\r\n    startLat: number,\r\n    startLon: number\r\n): Array<{ distance: number; travelTime: number;[key: string]: any }> {\r\n    return places\r\n        .map((place) => {\r\n            if (!place.lat || !place.lon) {\r\n                return { ...place, distance: 0, travelTime: 0 };\r\n            }\r\n\r\n            const distance = calculateDistance(startLat, startLon, place.lat, place.lon);\r\n            const travelTime = estimateTravelTime(distance);\r\n\r\n            return {\r\n                ...place,\r\n                distance,\r\n                travelTime,\r\n            };\r\n        })\r\n        .sort((a, b) => a.distance - b.distance);\r\n}\r\n\r\n// Format distance for display\r\nexport function formatDistance(km: number): string {\r\n    if (km < 1) {\r\n        return `${Math.round(km * 1000)}m`;\r\n    }\r\n    return `${km}km`;\r\n}\r\n\r\n// Format travel time for display\r\nexport function formatTravelTime(minutes: number): string {\r\n    if (minutes < 60) {\r\n        return `${minutes} min`;\r\n    }\r\n    const hours = Math.floor(minutes / 60);\r\n    const mins = minutes % 60;\r\n    return mins > 0 ? `${hours}h ${mins}m` : `${hours}h`;\r\n}\r\n"],"names":[],"mappings":"AAAA,kEAAkE;;;;;;;;;;;;;AAC3D,SAAS,kBACZ,IAAY,EACZ,IAAY,EACZ,IAAY,EACZ,IAAY;IAEZ,MAAM,IAAI,MAAM,oCAAoC;IACpD,MAAM,OAAO,UAAU,OAAO;IAC9B,MAAM,OAAO,UAAU,OAAO;IAE9B,MAAM,IACF,KAAK,GAAG,CAAC,OAAO,KAAK,KAAK,GAAG,CAAC,OAAO,KACrC,KAAK,GAAG,CAAC,UAAU,SACnB,KAAK,GAAG,CAAC,UAAU,SACnB,KAAK,GAAG,CAAC,OAAO,KAChB,KAAK,GAAG,CAAC,OAAO;IAEpB,MAAM,IAAI,IAAI,KAAK,KAAK,CAAC,KAAK,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI;IACrD,MAAM,WAAW,IAAI,GAAG,yBAAyB;IAEjD,OAAO,KAAK,KAAK,CAAC,WAAW,MAAM,IAAI,qBAAqB;AAChE;AAEA,SAAS,UAAU,OAAe;IAC9B,OAAO,UAAU,CAAC,KAAK,EAAE,GAAG,GAAG;AACnC;AAGO,SAAS,mBAAmB,UAAkB,EAAE,OAAyC,SAAS;IACrG,MAAM,SAAS;QACX,SAAS;QACT,SAAS;QACT,QAAQ;IACZ;IAEA,MAAM,YAAY,aAAa,MAAM,CAAC,KAAK;IAC3C,OAAO,KAAK,KAAK,CAAC,YAAY,KAAK,qBAAqB;AAC5D;AAGO,SAAS,qBACZ,MAA8E,EAC9E,QAAgB,EAChB,QAAgB;IAEhB,OAAO,OACF,GAAG,CAAC,CAAC;QACF,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,EAAE;YAC1B,OAAO;gBAAE,GAAG,KAAK;gBAAE,UAAU;gBAAG,YAAY;YAAE;QAClD;QAEA,MAAM,WAAW,kBAAkB,UAAU,UAAU,MAAM,GAAG,EAAE,MAAM,GAAG;QAC3E,MAAM,aAAa,mBAAmB;QAEtC,OAAO;YACH,GAAG,KAAK;YACR;YACA;QACJ;IACJ,GACC,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,QAAQ,GAAG,EAAE,QAAQ;AAC/C;AAGO,SAAS,eAAe,EAAU;IACrC,IAAI,KAAK,GAAG;QACR,OAAO,GAAG,KAAK,KAAK,CAAC,KAAK,MAAM,CAAC,CAAC;IACtC;IACA,OAAO,GAAG,GAAG,EAAE,CAAC;AACpB;AAGO,SAAS,iBAAiB,OAAe;IAC5C,IAAI,UAAU,IAAI;QACd,OAAO,GAAG,QAAQ,IAAI,CAAC;IAC3B;IACA,MAAM,QAAQ,KAAK,KAAK,CAAC,UAAU;IACnC,MAAM,OAAO,UAAU;IACvB,OAAO,OAAO,IAAI,GAAG,MAAM,EAAE,EAAE,KAAK,CAAC,CAAC,GAAG,GAAG,MAAM,CAAC,CAAC;AACxD"}},
    {"offset": {"line": 571, "column": 0}, "map": {"version":3,"sources":["file:///D:/project/app/components/ItineraryDisplay.tsx"],"sourcesContent":["'use client';\n\nimport { MapPin, Utensils, Clock, Route, Lightbulb, Calendar, ArrowRight, Navigation, Map } from 'lucide-react';\nimport { useState, useEffect } from 'react';\nimport { formatDistance, formatTravelTime, calculateDistance } from '../utils/distance';\nimport RouteMap from './RouteMap';\n\ninterface Place {\n  name: string;\n  description: string;\n  entry_fee?: string;\n  lat?: number;\n  lon?: number;\n}\n\ninterface Food {\n  name: string;\n  description: string;\n}\n\ninterface DayItinerary {\n  places: Place[];\n  food: Food[];\n  travel_time?: string;\n  notes?: string;\n}\n\ninterface ItineraryData {\n  hotel_coordinates?: {\n    lat: number;\n    lon: number;\n  };\n  [key: string]: DayItinerary | { lat: number; lon: number } | undefined;\n}\n\ninterface ItineraryDisplayProps {\n  jsonData: string;\n  onReset: () => void;\n}\n\n// Pexels API helper\nconst fetchPexelsImage = async (query: string): Promise<string | null> => {\n  try {\n    const apiKey = process.env.NEXT_PUBLIC_PEXELS_API_KEY;\n    if (!apiKey) return null;\n\n    const response = await fetch(\n      `https://api.pexels.com/v1/search?query=${encodeURIComponent(query + ' landmark travel')}&per_page=1`,\n      {\n        headers: {\n          Authorization: apiKey,\n        },\n      }\n    );\n\n    if (!response.ok) return null;\n\n    const data = await response.json();\n    if (data.photos && data.photos.length > 0) {\n      return data.photos[0].src.large;\n    }\n    return null;\n  } catch (error) {\n    console.error('Error fetching Pexels image:', error);\n    return null;\n  }\n};\n\n// Place Card Component with Pexels Integration and Distance Calculation\nconst PlaceCard = ({\n  place,\n  idx,\n  startLat,\n  startLon\n}: {\n  place: Place;\n  idx: number;\n  startLat?: number;\n  startLon?: number;\n}) => {\n  const [imageUrl, setImageUrl] = useState<string | null>(null);\n  const [imageLoading, setImageLoading] = useState(true);\n  const [imageError, setImageError] = useState(false);\n\n  useEffect(() => {\n    const loadImage = async () => {\n      const url = await fetchPexelsImage(place.name);\n      if (url) {\n        setImageUrl(url);\n      } else {\n        setImageError(true);\n      }\n      setImageLoading(false);\n    };\n    loadImage();\n  }, [place.name]);\n\n  // Calculate distance and travel time\n  let distance: number | null = null;\n  let travelTime: number | null = null;\n\n  if (startLat && startLon && place.lat && place.lon) {\n    distance = calculateDistance(startLat, startLon, place.lat, place.lon);\n    // Estimate 40 km/h average speed in city\n    travelTime = Math.round((distance / 40) * 60); // minutes\n  }\n\n  // Gradient and emoji fallback\n  const gradients = [\n    'from-blue-400 via-blue-500 to-indigo-600',\n    'from-purple-400 via-purple-500 to-pink-600',\n    'from-green-400 via-teal-500 to-cyan-600',\n    'from-orange-400 via-red-500 to-pink-600',\n  ];\n  const gradient = gradients[idx % gradients.length];\n  const placeEmojis = ['üèõÔ∏è', 'üóº', 'üè∞', '‚õ©Ô∏è', 'üïå', 'üé°'];\n  const emoji = placeEmojis[idx % placeEmojis.length];\n\n  return (\n    <div className=\"group bg-white rounded-xl border-2 border-blue-100 hover:border-blue-300 transition-all hover:scale-[1.02] shadow-md hover:shadow-xl overflow-hidden\">\n      {/* Image or Gradient Header */}\n      <div className=\"relative h-48 overflow-hidden\">\n        {imageLoading ? (\n          // Loading skeleton\n          <div className=\"w-full h-full bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 animate-pulse\" />\n        ) : imageUrl && !imageError ? (\n          // Real Pexels image\n          <>\n            <img\n              src={imageUrl}\n              alt={place.name}\n              loading=\"lazy\"\n              className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500\"\n              onError={() => setImageError(true)}\n            />\n            <div className=\"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent\" />\n          </>\n        ) : (\n          // Fallback to gradient with emoji\n          <div className={`relative h-full bg-gradient-to-br ${gradient} flex items-center justify-center`}>\n            <div className=\"text-8xl group-hover:scale-110 transition-transform duration-500 filter drop-shadow-2xl\">\n              {emoji}\n            </div>\n            <div className=\"absolute inset-0 opacity-10\">\n              <div className=\"absolute top-0 right-0 w-40 h-40 bg-white rounded-full -mr-20 -mt-20\" />\n              <div className=\"absolute bottom-0 left-0 w-32 h-32 bg-white rounded-full -ml-16 -mb-16\" />\n            </div>\n          </div>\n        )}\n\n        {/* Number badge */}\n        <div className=\"absolute top-3 left-3 bg-white/90 backdrop-blur-sm text-blue-600 rounded-full w-10 h-10 flex items-center justify-center text-lg font-bold shadow-lg z-10\">\n          {idx + 1}\n        </div>\n\n        {/* Entry fee badge */}\n        {place.entry_fee && (\n          <div className=\"absolute top-3 right-3 bg-green-500 text-white px-3 py-1.5 rounded-full text-xs font-bold shadow-lg z-10 backdrop-blur-sm\">\n            {place.entry_fee}\n          </div>\n        )}\n\n        {/* Distance badge */}\n        {distance !== null && (\n          <div className=\"absolute bottom-3 right-3 bg-blue-600/90 backdrop-blur-sm text-white px-3 py-1.5 rounded-full text-xs font-bold shadow-lg z-10 flex items-center gap-1\">\n            <Navigation className=\"w-3 h-3\" />\n            {formatDistance(distance)}\n          </div>\n        )}\n      </div>\n\n      {/* Place Info */}\n      <div className=\"p-5\">\n        <h4 className=\"font-bold text-gray-900 text-lg mb-2 group-hover:text-blue-600 transition\">\n          {place.name}\n        </h4>\n\n        {/* Distance and Travel Time */}\n        {distance !== null && travelTime !== null && (\n          <div className=\"flex items-center gap-3 mb-2 text-sm text-gray-600\">\n            <span className=\"flex items-center gap-1\">\n              <Navigation className=\"w-4 h-4 text-blue-600\" />\n              {formatDistance(distance)} away\n            </span>\n            <span className=\"flex items-center gap-1\">\n              <Clock className=\"w-4 h-4 text-orange-600\" />\n              ~{formatTravelTime(travelTime)}\n            </span>\n          </div>\n        )}\n\n        <p className=\"text-gray-700 text-sm leading-relaxed\">\n          {place.description}\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default function ItineraryDisplay({ jsonData, onReset }: ItineraryDisplayProps) {\n  let itinerary: ItineraryData;\n\n  try {\n    // Try to parse the JSON\n    const cleaned = jsonData.replace(/```json\\n?/g, '').replace(/```\\n?/g, '').trim();\n    itinerary = JSON.parse(cleaned);\n  } catch (error) {\n    // If parsing fails, show the raw text\n    return (\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"bg-white rounded-xl shadow-lg p-8\">\n          <div className=\"flex justify-between items-center mb-6\">\n            <h2 className=\"text-3xl font-bold text-gray-800\">Your AI-Generated Itinerary</h2>\n            <button\n              onClick={onReset}\n              className=\"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition\"\n            >\n              Create New Trip\n            </button>\n          </div>\n          <div className=\"prose prose-lg max-w-none\">\n            <pre className=\"whitespace-pre-wrap text-gray-700 font-sans leading-relaxed bg-gray-50 p-6 rounded-lg\">\n              {jsonData}\n            </pre>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-6xl mx-auto\">\n      {/* Header */}\n      <div className=\"bg-gradient-to-r from-blue-600 to-purple-600 rounded-3xl shadow-2xl p-8 mb-8 text-white\">\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <h1 className=\"text-5xl font-bold mb-3\">Your Dream Itinerary ‚ú®</h1>\n            <p className=\"text-blue-100 text-lg flex items-center gap-2\">\n              <Calendar className=\"w-5 h-5\" />\n              {Object.keys(itinerary).length} Day{Object.keys(itinerary).length > 1 ? 's' : ''} of Unforgettable Experiences\n            </p>\n          </div>\n          <button\n            onClick={onReset}\n            className=\"px-8 py-4 bg-white text-blue-600 hover:bg-blue-50 font-bold rounded-xl transition shadow-lg hover:shadow-xl hover:scale-105 transform\"\n          >\n            Plan Another Trip\n          </button>\n        </div>\n      </div>\n\n\n      {/* Day Cards - Zomato/MakeMyTrip Style */}\n      <div className=\"space-y-6\">\n        {Object.entries(itinerary)\n          .filter(([key]) => key.startsWith('day_'))\n          .map(([day, info], index) => {\n            const dayNumber = day.replace('day_', '');\n            const dayInfo = info as DayItinerary;\n\n            // Extract hotel coordinates\n            const hotelCoords = itinerary.hotel_coordinates;\n\n            return (\n              <div\n                key={day}\n                className=\"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border border-gray-100\"\n              >\n                {/* Day Header - MakeMyTrip Style */}\n                <div className=\"bg-gradient-to-r from-blue-500 to-blue-600 p-6\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-4\">\n                      <div className=\"bg-white rounded-full w-16 h-16 flex items-center justify-center shadow-lg\">\n                        <span className=\"text-3xl font-bold text-blue-600\">{dayNumber}</span>\n                      </div>\n                      <div>\n                        <h2 className=\"text-3xl font-bold text-white\">DAY {dayNumber}</h2>\n                        {dayInfo.travel_time && (\n                          <p className=\"text-blue-100 flex items-center gap-2 mt-1\">\n                            <Clock className=\"w-4 h-4\" />\n                            Total Travel Time: {dayInfo.travel_time}\n                          </p>\n                        )}\n                      </div>\n                    </div>\n                    <div className=\"hidden md:block\">\n                      <div className=\"bg-white/20 backdrop-blur-sm rounded-xl px-4 py-2 text-white font-semibold\">\n                        Day {index + 1}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"p-6\">\n                  {/* Places Section - Zomato Card Style with Images */}\n                  {dayInfo.places && dayInfo.places.length > 0 && (\n                    <div className=\"mb-6\">\n                      <div className=\"flex items-center gap-2 mb-4\">\n                        <div className=\"bg-blue-100 p-2 rounded-lg\">\n                          <MapPin className=\"w-5 h-5 text-blue-600\" />\n                        </div>\n                        <h3 className=\"text-xl font-bold text-gray-800\">\n                          Places to Visit ({dayInfo.places.length})\n                        </h3>\n                      </div>\n\n                      <div className=\"grid md:grid-cols-2 gap-4\">\n                        {dayInfo.places.map((place, idx) => (\n                          <PlaceCard\n                            key={idx}\n                            place={place}\n                            idx={idx}\n                            startLat={hotelCoords?.lat}\n                            startLon={hotelCoords?.lon}\n                          />\n                        ))}\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Food Section - Zomato Style */}\n                  {dayInfo.food && dayInfo.food.length > 0 && (\n                    <div className=\"mb-6\">\n                      <div className=\"flex items-center gap-2 mb-4\">\n                        <div className=\"bg-orange-100 p-2 rounded-lg\">\n                          <Utensils className=\"w-5 h-5 text-orange-600\" />\n                        </div>\n                        <h3 className=\"text-xl font-bold text-gray-800\">\n                          Where to Eat ({dayInfo.food.length})\n                        </h3>\n                      </div>\n\n                      <div className=\"space-y-3\">\n                        {dayInfo.food.map((foodItem, idx) => (\n                          <div\n                            key={idx}\n                            className=\"flex items-start gap-4 bg-gradient-to-r from-orange-50 to-red-50 p-4 rounded-xl border-2 border-orange-100 hover:border-orange-300 transition-all hover:shadow-md group\"\n                          >\n                            <div className=\"bg-orange-500 text-white rounded-full w-10 h-10 flex items-center justify-center font-bold flex-shrink-0 shadow\">\n                              üçΩÔ∏è\n                            </div>\n                            <div className=\"flex-1\">\n                              <h4 className=\"font-bold text-gray-900 mb-1 group-hover:text-orange-600 transition\">\n                                {foodItem.name}\n                              </h4>\n                              <p className=\"text-gray-700 text-sm\">\n                                {foodItem.description}\n                              </p>\n                            </div>\n                            <ArrowRight className=\"w-5 h-5 text-orange-400 opacity-0 group-hover:opacity-100 transition-opacity\" />\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Notes Section */}\n                  {dayInfo.notes && (\n                    <div className=\"bg-gradient-to-r from-yellow-50 to-amber-50 border-2 border-yellow-200 rounded-xl p-5\">\n                      <div className=\"flex items-start gap-3\">\n                        <div className=\"bg-yellow-500 p-2 rounded-lg flex-shrink-0\">\n                          <Lightbulb className=\"w-5 h-5 text-white\" />\n                        </div>\n                        <div>\n                          <h4 className=\"font-bold text-gray-900 mb-2 flex items-center gap-2\">\n                            Pro Tips & Notes\n                          </h4>\n                          <p className=\"text-gray-700 leading-relaxed\">\n                            {dayInfo.notes}\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Route Indicator */}\n                  {index < Object.keys(itinerary).filter(k => k.startsWith('day_')).length - 1 && (\n                    <div className=\"flex justify-center mt-6\">\n                      <div className=\"bg-gray-100 px-6 py-2 rounded-full flex items-center gap-2 text-gray-600\">\n                        <Route className=\"w-4 h-4\" />\n                        <span className=\"text-sm font-medium\">Continue to Day {parseInt(dayNumber) + 1}</span>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n            );\n          })}\n      </div>\n\n      {/* Footer */}\n      <div className=\"mt-8 text-center bg-white rounded-2xl shadow-lg p-8\">\n        <h3 className=\"text-2xl font-bold text-gray-800 mb-3\">Ready for Your Adventure? üéâ</h3>\n        <p className=\"text-gray-600 mb-6\">\n          Your personalized {Object.keys(itinerary).length}-day itinerary is ready. Safe travels!\n        </p>\n        <button\n          onClick={onReset}\n          className=\"px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold rounded-xl transition shadow-lg hover:shadow-xl transform hover:scale-105\"\n        >\n          Create Another Itinerary\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1419, "column": 0}, "map": {"version":3,"sources":["file:///D:/project/app/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport TripForm from './components/TripForm';\r\nimport ItineraryDisplay from './components/ItineraryDisplay';\r\nimport type { TripFormData } from './types/trip';\r\nimport { Plane } from 'lucide-react';\r\n\r\nexport default function Home() {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [itinerary, setItinerary] = useState<string | null>(null);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    const handleSubmit = async (formData: TripFormData) => {\r\n        setIsLoading(true);\r\n        setError(null);\r\n        setItinerary(null);\r\n\r\n        try {\r\n            // üß† SMART LOGIC - Optimize parameters before calling AI\r\n            let adjustedStyle = formData.travel_style;\r\n            let constraints = {\r\n                budgetLevel: 'normal',\r\n                distanceLimit: false,\r\n                walkingIntensity: 'normal'\r\n            };\r\n\r\n            // Budget-based adjustments\r\n            if (formData.budget < 15000) {\r\n                constraints.budgetLevel = 'budget';\r\n                console.log('üí∞ Budget mode activated: Prioritizing free/low-cost activities');\r\n            } else if (formData.budget > 50000) {\r\n                constraints.budgetLevel = 'premium';\r\n                console.log('üíé Premium mode activated: Including luxury options');\r\n            }\r\n\r\n            // Days-based adjustments\r\n            if (formData.days <= 2) {\r\n                constraints.distanceLimit = true;\r\n                console.log('‚è±Ô∏è Short trip detected: Limiting to nearby locations');\r\n            }\r\n\r\n            // Travel style adjustments\r\n            if (formData.travel_style === 'Family') {\r\n                constraints.walkingIntensity = 'low';\r\n                console.log('üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Family mode: Reducing walking, adding kid-friendly spots');\r\n            } else if (formData.travel_style === 'Backpacker') {\r\n                constraints.walkingIntensity = 'high';\r\n                console.log('üéí Backpacker mode: Adding adventurous activities');\r\n            }\r\n\r\n            // Call the API route to generate itinerary using OpenAI\r\n            const response = await fetch('/api/itinerary', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({\r\n                    destination: formData.destination,\r\n                    days: formData.days,\r\n                    budget: formData.budget,\r\n                    style: formData.travel_style,\r\n                    hotel: formData.starting_location,\r\n                    constraints: constraints, // Send smart constraints to API\r\n                }),\r\n            });\r\n\r\n            if (!response.ok) {\r\n                const errorData = await response.json();\r\n                throw new Error(errorData.error || 'Failed to generate itinerary');\r\n            }\r\n\r\n            const data = await response.json();\r\n\r\n            // Parse the AI response - it might be wrapped in code blocks\r\n            let parsedItinerary: string;\r\n\r\n            try {\r\n                // Remove markdown code blocks if present\r\n                const cleaned = data.itinerary\r\n                    .replace(/```json\\n?/g, '')\r\n                    .replace(/```\\n?/g, '')\r\n                    .trim();\r\n\r\n                // Try to parse as JSON to validate it\r\n                const jsonData = JSON.parse(cleaned);\r\n\r\n                // Validate it has day data\r\n                const hasValidDays = Object.keys(jsonData).some(key => key.startsWith('day_'));\r\n\r\n                if (!hasValidDays) {\r\n                    throw new Error('Invalid itinerary format - no day data found');\r\n                }\r\n\r\n                // Store the cleaned JSON string\r\n                parsedItinerary = cleaned;\r\n            } catch (parseError) {\r\n                console.warn('Could not parse as JSON, using raw response:', parseError);\r\n                // If parsing fails, use the original response\r\n                parsedItinerary = data.itinerary;\r\n            }\r\n\r\n            setItinerary(parsedItinerary);\r\n        } catch (err) {\r\n            console.error('Error creating itinerary:', err);\r\n            setError(err instanceof Error ? err.message : 'Failed to generate itinerary. Please try again.');\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleReset = () => {\r\n        setItinerary(null);\r\n        setError(null);\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4\">\r\n            <div className=\"max-w-7xl mx-auto\">\r\n                {isLoading ? (\r\n                    <div className=\"flex flex-col items-center justify-center min-h-[80vh]\">\r\n                        <div className=\"bg-white rounded-2xl shadow-2xl p-12 max-w-md\">\r\n                            <div className=\"flex flex-col items-center\">\r\n                                <div className=\"relative\">\r\n                                    <div className=\"w-20 h-20 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin\"></div>\r\n                                    <Plane className=\"w-10 h-10 text-blue-600 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2\" />\r\n                                </div>\r\n                                <h2 className=\"text-2xl font-bold text-gray-800 mt-6 mb-2\">Creating Your Itinerary</h2>\r\n                                <p className=\"text-gray-600 text-center\">\r\n                                    Our AI is crafting the perfect travel plan for you...\r\n                                </p>\r\n                                <div className=\"mt-6 space-y-2 text-sm text-gray-500\">\r\n                                    <p>‚ú® Analyzing your preferences</p>\r\n                                    <p>üó∫Ô∏è Finding the best places</p>\r\n                                    <p>üçΩÔ∏è Selecting great restaurants</p>\r\n                                    <p>üí∞ Optimizing your budget</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                ) : !itinerary ? (\r\n                    <div className=\"flex flex-col items-center justify-center min-h-[80vh]\">\r\n                        <div className=\"mb-8 flex items-center gap-3\">\r\n                            <div className=\"p-3 bg-blue-600 rounded-xl shadow-lg\">\r\n                                <Plane className=\"w-8 h-8 text-white\" />\r\n                            </div>\r\n                            <h1 className=\"text-5xl font-bold text-gray-800\">TripGenius AI</h1>\r\n                        </div>\r\n                        <p className=\"text-gray-600 text-lg mb-8 text-center max-w-2xl\">\r\n                            Powered by OpenAI ‚Ä¢ Get personalized travel itineraries with realistic budgets and Indian-friendly recommendations\r\n                        </p>\r\n                        <TripForm onSubmit={handleSubmit} isLoading={isLoading} />\r\n                        {error && (\r\n                            <div className=\"mt-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg max-w-2xl\">\r\n                                {error}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                ) : (\r\n                    <ItineraryDisplay jsonData={itinerary} onReset={handleReset} />\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}